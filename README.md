
# Лабораторна робота 1: Інформаційна система для компанії з вирощування та продажу квітів

## Користувачі інформаційної системи та їх задачі

| **Задача** | **Вхідна інформація** | **Вихідна інформація** |
| --- | --- | --- |
| **Адміністратор** | | |
| Управління правами доступу | Дані про користувачів, ролі, рівні доступу | Оновлені права доступу |
| Моніторинг роботи БД | Логи системи, показники продуктивності | Звіти про стан системи |
| Резервне копіювання | База даних | Резервна копія даних |
| **Менеджер** | | |
| Ведення замовлень | Дані про клієнта, список квітів, кількість | Оформлене замовлення |
| Оновлення асортименту | Інформація про нові квіти, зміни в наявності | Оновлений каталог квітів |
| Управління цінами | Собівартість, ринкові ціни, сезонність | Оновлений прайс-лист |
| **Клієнт** | | |
| Перегляд асортименту | Фільтри пошуку (вид, ціна, колір) | Список доступних квітів |
| Створення замовлення | Вибрані квіти, контактні дані | Підтвердження замовлення |
| Перевірка статусу | Номер замовлення | Інформація про стан замовлення |
| **Агроном** | | |
| Оновлення стану рослин | Результати огляду, параметри росту | Оновлена інформація про стан |
| Планування посадок | Площі, сезонність, попит | План посадок |

---

## Сутності та їх атрибути

### Користувач
- id (PK)
- ім'я
- роль (Клієнт, Менеджер, Агроном, Адміністратор)
- телефон
- email
- адреса
- досвід

### Квітка
- id (PK)
- назва
- тип
- колір
- ціна
- кількість
- опис
- статус
- постачальник_id (FK)

### Замовлення
- id (PK)
- дата
- статус
- клієнт_id (FK)
- менеджер_id (FK)
- сума

### Деталі_замовлення
- id (PK)
- замовлення_id (FK)
- квітка_id (FK)
- кількість
- ціна_за_одиницю

### Посадка
- id (PK)
- квітка_id (FK)
- агроном_id (FK)
- дата_посадки
- очікувана_дата_зрізу
- статус

### Постачальник
- id (PK)
- назва_компанії
- контактна_особа
- телефон
- email

### Оплата
- id (PK)
- замовлення_id (FK)
- метод
- статус
- сума

### Доставка
- id (PK)
- замовлення_id (FK)
- метод
- статус
- трекинг

---

## Діаграма бази даних

![Діаграма](<Screenshot 2025-04-08 at 14.36.00 ER Diagram.png>)

---

## SQL-код створення бази даних

```sql
CREATE TABLE Користувач (
    id SERIAL PRIMARY KEY,
    ім_я VARCHAR(100) NOT NULL,
    роль VARCHAR(50) NOT NULL,
    телефон VARCHAR(20),
    email VARCHAR(100) UNIQUE,
    адреса TEXT,
    досвід INTEGER
);

CREATE TABLE Постачальник (
    id SERIAL PRIMARY KEY,
    назва_компанії VARCHAR(100) NOT NULL,
    контактна_особа VARCHAR(100),
    телефон VARCHAR(20),
    email VARCHAR(100)
);

CREATE TABLE Квітка (
    id SERIAL PRIMARY KEY,
    назва VARCHAR(100) NOT NULL,
    тип VARCHAR(50),
    колір VARCHAR(30),
    ціна NUMERIC(10,2),
    кількість INTEGER,
    опис TEXT,
    статус VARCHAR(50),
    постачальник_id INTEGER REFERENCES Постачальник(id)
);

CREATE TABLE Замовлення (
    id SERIAL PRIMARY KEY,
    дата DATE NOT NULL,
    статус VARCHAR(50),
    клієнт_id INTEGER REFERENCES Користувач(id),
    менеджер_id INTEGER REFERENCES Користувач(id),
    сума NUMERIC(10,2)
);

CREATE TABLE Деталі_замовлення (
    id SERIAL PRIMARY KEY,
    замовлення_id INTEGER REFERENCES Замовлення(id),
    квітка_id INTEGER REFERENCES Квітка(id),
    кількість INTEGER,
    ціна_за_одиницю NUMERIC(10,2)
);

CREATE TABLE Посадка (
    id SERIAL PRIMARY KEY,
    квітка_id INTEGER REFERENCES Квітка(id),
    агроном_id INTEGER REFERENCES Користувач(id),
    дата_посадки DATE,
    очікувана_дата_зрізу DATE,
    статус VARCHAR(50)
);

CREATE TABLE Оплата (
    id SERIAL PRIMARY KEY,
    замовлення_id INTEGER REFERENCES Замовлення(id),
    метод VARCHAR(50),
    статус VARCHAR(50),
    сума NUMERIC(10,2)
);

CREATE TABLE Доставка (
    id SERIAL PRIMARY KEY,
    замовлення_id INTEGER REFERENCES Замовлення(id),
    метод VARCHAR(50),
    статус VARCHAR(50),
    трекинг VARCHAR(100)
);
```

